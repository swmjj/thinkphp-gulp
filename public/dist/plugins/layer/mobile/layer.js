!function(e){"use strict";function a(e){return o.querySelectorAll(e)}function t(e){this.config=r.extend(e),this.view()}var n,o=document,d="getElementsByClassName",i={type:0,shade:!0,shadeClose:!0,fixed:!0,anim:"scale"},r={extend:function(e){var t,n=JSON.parse(JSON.stringify(i));for(t in e)n[t]=e[t];return n},timer:{},end:{},touch:function(e,t){e.addEventListener("click",function(e){t.call(this,e)},!1)}},c=0,y=["layui-m-layer"];t.prototype.view=function(){var e,t=this,n=t.config,i=o.createElement("div"),s=(t.id=i.id=y[0]+c,i.setAttribute("class",y[0]+" "+y[0]+(n.type||0)),i.setAttribute("index",c),s="object"==typeof n.title,n.title?'<h3 style="'+(s?n.title[1]:"")+'">'+(s?n.title[0]:n.title)+"</h3>":""),l=("string"==typeof n.btn&&(n.btn=[n.btn]),0!==(l=(n.btn||[]).length)&&n.btn?(e='<span yes type="1">'+n.btn[0]+"</span>",'<div class="layui-m-layerbtn">'+(e=2===l?'<span no type="0">'+n.btn[1]+"</span>"+e:e)+"</div>"):""),s=(n.fixed||(n.top=n.hasOwnProperty("top")?n.top:100,n.style=n.style||"",n.style+=" top:"+(o.body.scrollTop+n.top)+"px"),2===n.type&&(n.content='<i></i><i class="layui-m-layerload"></i><i></i><p>'+(n.content||"")+"</p>"),n.skin&&(n.anim="up"),"msg"===n.skin&&(n.shade=!1),i.innerHTML=(n.shade?"<div "+("string"==typeof n.shade?'style="'+n.shade+'"':"")+' class="layui-m-layershade"></div>':"")+'<div class="layui-m-layermain" '+(n.fixed?"":'style="position:static;"')+'><div class="layui-m-layersection"><div class="layui-m-layerchild '+(n.skin?"layui-m-layer-"+n.skin+" ":"")+(n.className||"")+" "+(n.anim?"layui-m-anim-"+n.anim:"")+'" '+(n.style?'style="'+n.style+'"':"")+">"+s+'<div class="layui-m-layercont">'+n.content+"</div>"+l+"</div></div></div>",n.type&&2!==n.type||1<=(e=o[d](y[0]+n.type)).length&&layer.close(e[0].getAttribute("index")),document.body.appendChild(i),t.elem=a("#"+t.id)[0]);n.success&&n.success(s),t.index=c++,t.action(n,s)},t.prototype.action=function(e,t){function n(){0==this.getAttribute("type")?(e.no&&e.no(),layer.close(i.index)):e.yes?e.yes(i.index):layer.close(i.index)}var i=this;e.time&&(r.timer[i.index]=setTimeout(function(){layer.close(i.index)},1e3*e.time));if(e.btn)for(var s=t[d]("layui-m-layerbtn")[0].children,l=s.length,a=0;a<l;a++)r.touch(s[a],n);e.shade&&e.shadeClose&&(t=t[d]("layui-m-layershade")[0],r.touch(t,function(){layer.close(i.index,e.end)})),e.end&&(r.end[i.index]=e.end)},e.layer={v:"2.0",index:c,open:function(e){return new t(e||{}).index},close:function(e){var t=a("#"+y[0]+e)[0];t&&(t.innerHTML="",o.body.removeChild(t),clearTimeout(r.timer[e]),delete r.timer[e],"function"==typeof r.end[e]&&r.end[e](),delete r.end[e])},closeAll:function(){for(var e=o[d](y[0]),t=0,n=e.length;t<n;t++)layer.close(0|e[0].getAttribute("index"))}},"function"==typeof define?define(function(){return layer}):(e=(e=document.scripts)[e.length-1],n=(n=e.src).substring(0,n.lastIndexOf("/")+1),e.getAttribute("merge")||document.head.appendChild(((e=o.createElement("link")).href=n+"need/layer.css?2.0",e.type="text/css",e.rel="styleSheet",e.id="layermcss",e)))}(window);